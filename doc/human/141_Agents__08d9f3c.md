# 141 Agents

> **Document Analysis:** This document has been processed through the enhanced ingest workflow with UML glossary integration and classified as a **activity** type (behavioral subtype).

## Document Overview

**Source:** 141_agents__08d9f3c.md  
**Processed:** 2026-01-29 19:31:13  
**Git SHA:** 08c66b918ce9bee3c0c5dd9a0606e17b74f8eea6  
**UUID7:** 08d9f3c  
**Word Count:** 2316 words  
**Main Sections:** .claude/teams/blue-team.yaml, .claude/skills/code-review.yaml, .claude/commands/review.yaml, Morning routine, During development, End of day  
**UML Classification:** activity (behavioral)  

## Visual Resources

### üéØ UML Diagram
**Type:** Activity Diagram  
**Subtype:** behavioral  
**File:** [141_Agents__activity__08d9f3c.puml](doc/uml/141_Agents__activity__08d9f3c.puml)

The UML diagram has been generated using enhanced analysis with UML glossary knowledge, providing accurate visualization of the activity concept described in this document.

### üìã Technical Summary
**File:** [141_Agents__08d9f3c.md](doc/skills/141_Agents__08d9f3c.md)

The technical summary contains structured metadata, key insights, and AI-optimized content with UML context for automated processing.

### üìö UML Glossary
**Reference:** [skills/uml-glossary.md](skills/uml-glossary.md)

The comprehensive UML glossary provides definitions and explanations of UML concepts, relationships, and diagram types used in this analysis.

## Key Concepts
- **Claude**
    - **Code**
    - **Agents**
    - **The**
    - **Setup**
    - **That**
    - **Actually**
    - **Works**
    - **Complete**
    - **Guide**
    - **After**
    - **Reza**
    - **Rezvani**
    - **Follow**
    - **Everyone**
    - **Why**
    - **Six**
    - **Then**
    - **Press**
    - **Beast**
    - **Mode**
    - **Image**
    - **Generated**
    - **Gemini**
    - **Pro**
    - **Quick**
    - **Before**
    - **Tuesday**
    - **Three**
    - **Context**
    - **What**
    - **Here**
    - **Agent**
    - **Architecture**
    - **Team**
    - **System**
    - **Most**
    - **Documentation**
    - **Testing**
    - **It**
    - **When**
    - **My**
    - **Each**
    - **Teams**
    - **Engineering**
    - **Blue**
    - **Core**
    - **Cyan**
    - **Infrastructure**
    - **DevOps**
    - **Orange**
    - **External**
    - **Yellow**
    - **Database**
    - **Support**
    - **Green**
    - **Quality**
    - **Red**
    - **Security**
    - **Purple**
    - **Operational**
    - **Gray**
    - **White**
    - **Performance**
    - **Black**
    - **Incident**
    - **Two**
    - **First**
    - **Second**
    - **If**
    - **Configuration**
    - **Example**
    - **Application**
    - **Senior**
    - **Early**
    - **Bad**
    - **Isolated**
    - **More**
    - **For**
    - **Autonomous**
    - **Skills**
    - **Without**
    - **With**
    - **Review**
    - **Skill**
    - **Analyzes**
    - **Key**
    - **Time**
    - **Issues**
    - **False**
    - **Coverage**
    - **Always**
    - **Sync**
    - **Detects**
    - **This**
    - **Doc**
    - **Test**
    - **Generation**
    - **Generates**
    - **Replace**
    - **Now**
    - **Dependency**
    - **Audit**
    - **Weekly**
    - **Refactoring**
    - **Scout**
    - **Identifies**
    - **Monitor**
    - **Flags**
    - **Migration**
    - **Assistant**
    - **Handles**
    - **Analyzer**
    - **Correlates**
    - **Autonomy**
    - **Levels**
    - **Not**
    - **Alireza**
    - **Full**
    - **Auto**
    - **Supervised**
    - **Slash**
    - **Commands**
    - **Power**
    - **Workflow**
    - **Instead**
    - **Daily**
    - **Use**
    - **Generate**
    - **Update**
    - **Deployment**
    - **Explicit**
    - **Export**
    - **Import**
    - **Start**
    - **Continue**
    - **Utility**
    - **Show**
    - **Token**
    - **Revert**
    - **Halt**
    - **Command**
    - **Initiate**
    - **Usage**
    - **Patterns**
    - **Morning**
    - **How**
    - **During**
    - **Fast**
    - **End**
    - **Save**
    - **Breaks**
    - **Honest**
    - **Limitations**
    - **Window**
    - **Limits**
    - **Beyond**
    - **Batch**
    - **Never**
    - **Handoff**
    - **Information**
    - **Loss**
    - **Even**
    - **Sometimes**
    - **Critical**
    - **Cost**
    - **Accumulation**
    - **On**
    - **Average**
    - **Drift**
    - **Monthly**
    - **Human**
    - **Oversight**
    - **Problem**
    - **Twice**
    - **No**
    - **Ever**
    - **Do**
    - **Differently**
    - **Log**
    - **Define**
    - **Is**
    - **Did**
    - **Reference**
    - **They**
    - **Unlike**
    - **Group**
    - **Scale**
    - **Buys**
    - **You**
    - **Mostly**
    - **Initial**
    - **Ongoing**
    - **Mistakes**
    - **New**
    - **Clone**
    - **Some**
    - **Other**
    - **Dedicated**
    - **Plugin**
    - **Packages**
    - **GitHub**
    - **Collection**
    - **Including**
    - **Subagents**
    - **Thanks**
    - **About**
    - **Author**
    - **Connect**
    - **Website**
    - **LinkedIn**
    - **Read**
    - **Medium**

## Main Takeaways
- id: blue-architect
    - id: blue-implementer
    - id: blue-reviewer
    - from: blue-architect
    - from: blue-implementer

## UML Analysis Notes

This document was processed using UML glossary knowledge, enabling:
- Accurate diagram type classification
- Enhanced understanding of UML terminology
- Improved visualization based on UML standards
- Better context for technical documentation

## Original Content

---

141 Claude Code Agents: The Setup That Actually Works. A Complete Guide
After 6 months building agents in production, here‚Äôs the 10-team structure, 8 autonomous skills, and 19 slash commands that saved my sanity.
Reza Rezvani
Reza Rezvani

Follow
9 min read
¬∑
4 days ago
132


7





Everyone builds one Claude Code agent. I built 141, to be honest at the start, I was not aware. Why? I will explain you why and when an agent and its dedicated skills would make sense and why you do not need to reinvent the wheel.

That number wasn‚Äôt the plan. Six months ago, I started with a single agent to help with code reviews. Then I needed one for documentation. Then testing.

Press enter or click to view image in full size

141 Claude Code Agents on Beast Mode | Image Generated with Gemini 3 Pro
Quick note: AI tools helped structure this article. The 6 months of testing, 141 agent building, configurations, and every failure documented below are from my actual production workflow.

Before I knew it, I was drowning in agents ‚Äî losing track of which did what, watching them step on each other‚Äôs work, and spending more time managing them than they saved me.

The breaking point came on a Tuesday at 11 PM. Three agents were fighting over the same file. Context from one session kept bleeding into another. I‚Äôd just spent four hours debugging a problem that only existed because my agent architecture was a mess.

That night, I started over. What emerged became my claude-code-tresor repository ‚Äî 288 stars as of this writing, containing the 10-team structure, 8 autonomous skills, and 19 slash commands that turned chaos into something manageable.

Here‚Äôs what actually works.

Claude Code Agent Architecture: The 10-Team System
Most developers organize agents by task. ‚ÄúCode review agent.‚Äù ‚ÄúDocumentation agent.‚Äù ‚ÄúTesting agent.‚Äù I tried this. It collapsed around agent number 30.

The problem: tasks overlap. A refactoring task needs code review, documentation updates, AND testing. When agents are organized by task, you‚Äôre constantly switching contexts, losing information in handoffs, and duplicating work.

My solution: organize by domain instead. Each ‚Äúteam‚Äù owns a complete area of the codebase or workflow.

The 10 Teams
Engineering Teams (4):

Blue Team ‚Äî Core application code
Cyan Team ‚Äî Infrastructure and DevOps
Orange Team ‚Äî External integrations and APIs
Yellow Team ‚Äî Database and data processing
Support Teams (3):

Green Team ‚Äî Quality assurance and testing
Red Team ‚Äî Security auditing
Purple Team ‚Äî Architecture and planning
Operational Teams (3):

Gray Team ‚Äî Documentation and knowledge management
White Team ‚Äî Performance monitoring and optimization
Black Team ‚Äî Incident response and debugging
Why colors instead of names? Two reasons. First, colors are faster to type in commands (/blue-review vs /engineering-core-review). Second ‚Äî and I learned this the hard way ‚Äî colors force you to keep teams small. If you can't fit what the team does into a color association, you're probably trying to do too much.

Team Configuration Example
Here‚Äôs how I configure a team in my .claude/ directory:

# .claude/teams/blue-team.yaml
name: "Blue Team - Core Application"
context_isolation: strict
max_concurrent_agents: 3
shared_memory: false

agents:
  - id: blue-architect
    role: "Senior architect decisions"
    triggers: ["new feature", "major refactor"]
    
  - id: blue-implementer
    role: "Code implementation"
    triggers: ["build", "implement", "create"]
    
  - id: blue-reviewer
    role: "Code quality review"
    triggers: ["review", "check", "validate"]
handoff_rules:
  - from: blue-architect
    to: blue-implementer
    preserve: ["decisions", "constraints", "rationale"]
    
  - from: blue-implementer
    to: blue-reviewer
    preserve: ["implementation_notes", "test_coverage"]
The key setting here is shared_memory: false. Early on, I thought agents should share context. Bad idea. Agents started "remembering" solutions from unrelated problems and applying them incorrectly. Isolated contexts with explicit handoffs work better.

Each team has at most 3 active agents. More than that, and coordination overhead eats your productivity gains.

I track this: teams with 4+ agents averaged 12 minutes per handoff. Teams with 3 or fewer averaged 4 minutes.

For the hooks that power these agents, I‚Äôve written a separate deep-dive ‚Äî the handoff logic alone took three iterations to get right.

8 Autonomous Skills for Claude Code Agents
Skills are what transform agents from ‚Äúhelpful assistant‚Äù to ‚Äúautonomous worker.‚Äù Without skills, you‚Äôre still babysitting every task. With the right skills, agents handle 70‚Äì80% of work without asking for guidance.

Here are the 8 skills running in my production setup:

1. Code Review Skill
What it does: Analyzes PRs against team coding standards, security patterns, and performance considerations.

Key metrics:

Time per review: 15 minutes ‚Üí 3 minutes
Issues caught before merge: increased 62%
False positives: 8% (acceptable tradeoff)
# .claude/skills/code-review.yaml
name: code-review
trigger: "/review"
autonomous: true

checklist:
  - security: "SQL injection, XSS, auth validation"
  - performance: "N+1 queries, unnecessary iterations"
  - standards: "Team naming conventions, error handling"
  - tests: "Coverage for new logic, edge cases"
output_format:
  severity_levels: [critical, warning, suggestion]
  auto_approve_threshold: 0  # Always require human sign-off
2. Documentation Sync Skill
What it does: Detects code changes and updates relevant documentation automatically.

I used to update docs manually. Then I‚Äôd forget for three weeks. Then onboarding a new developer revealed 47 outdated references. This skill watches for changes and queues doc updates.

Key metrics:

Doc accuracy: 65% ‚Üí 94%
Time maintaining docs: 5 hours/week ‚Üí 45 minutes
3. Test Generation Skill
What it does: Generates unit tests for new functions, edge case tests for complex logic.

What it doesn‚Äôt do: Replace human judgment on what to test. I learned this when the skill generated 127 tests for a 20-line function. Now it proposes tests; I approve or modify.

4. Dependency Audit Skill
What it does: Weekly scan of dependencies for security vulnerabilities, outdated versions, and license issues.

5. Refactoring Scout Skill
What it does: Identifies code smells, duplication patterns, and opportunities for extraction.

6. Performance Monitor Skill
What it does: Flags performance regressions in new code paths.

7. Migration Assistant Skill
What it does: Handles database migrations with rollback planning.

8. Incident Analyzer Skill
What it does: Correlates error logs with recent changes during incidents.

Each skill lives in my 42 agent skills library as a standalone configuration you can install. The documentation for each includes setup time, maintenance requirements, and honest assessments of where they fall short.

Skill Autonomy Levels
Not all skills should run unsupervised. I classify them:

Press enter or click to view image in full size
Agent Skill Autonomy Levels in Claude Code
Agent Skill Autonomy Levels in Claude Code | Image by Alireza Rezvani ¬©
The biggest mistake I made: starting everything at Full Auto. I lost an afternoon reverting ‚Äúimprovements‚Äù the Refactoring Scout made to a critical path I‚Äôd optimized by hand. Now, any skill that modifies code starts at Supervised and earns autonomy over time.

19 Slash Commands That Power My Agent Workflow
Slash commands are how I actually interact with this system day-to-day. Instead of remembering which agent does what, I memorized 19 commands that cover 90% of my workflow.

The Core 8 (Daily Use)
/blue-review     - Code review by Blue Team
/green-test      - Generate tests with Green Team
/gray-doc        - Update documentation
/red-audit       - Security scan
/purple-plan     - Architecture discussion
/cyan-deploy     - Deployment preparation
/orange-integrate - External API integration
/yellow-query    - Database query optimization
Context Commands (5)
/handoff [team]  - Explicit context transfer between teams
/context-dump    - Export current session context
/context-load    - Import context from file
/isolate         - Start fresh context (no memory)
/resume [id]     - Continue previous session
Utility Commands (6)
/status          - Show all active agents and their states
/costs           - Token usage and API cost tracking
/metrics         - Performance metrics for last 7 days
/rollback [n]    - Revert last n agent actions
/explain [agent] - Agent explains its last decision
/pause           - Halt all autonomous operations
Command Configuration
Here‚Äôs how I wire these up:

# .claude/commands/review.yaml
name: blue-review
description: "Initiate code review with Blue Team"
team: blue
default_agent: blue-reviewer
parameters:
  - name: scope
    type: string
    default: "staged"
    options: ["staged", "branch", "file"]
    
  - name: depth
    type: string
    default: "standard"
    options: ["quick", "standard", "deep"]
hooks:
  pre: ["lint-check", "format-verify"]
  post: ["metrics-log", "context-save"]
The hooks section is critical. Before any review, I run lint and format checks ‚Äî no point having an agent review code that won't pass CI. After, I log metrics (so I know if review quality degrades over time) and save context (so I can resume if interrupted).

Usage Patterns
What I actually type most often:

# Morning routine
/status                    # What's running?
/metrics                   # How did overnight jobs go?

# During development
/blue-review --scope=staged --depth=quick   # Fast check before commit
/green-test --coverage                      # Generate tests for new code

# End of day
/costs                     # How much did I spend?
/context-dump              # Save for tomorrow
What Breaks First (Honest Limitations)
Six months in, I‚Äôve catalogued exactly where this setup falls apart. If you‚Äôre building something similar, learn from my mistakes.

Context Window Limits
The 141 agents work ‚Äî until you try to coordinate more than 10 simultaneously. Beyond that threshold, context management becomes the bottleneck. I‚Äôve measured this: accuracy drops from 89% to roughly 60% when juggling 15+ file modifications in a single session.

My workaround: Batch operations into teams. Never let more than 3 teams work on the same codebase area simultaneously.

Handoff Information Loss
Even with explicit preservation rules, roughly 15% of context gets lost in handoffs between teams. Sometimes it‚Äôs nuance (‚ÄúI chose approach A because of edge case X‚Äù becomes just ‚Äúused approach A‚Äù). Sometimes it‚Äôs important constraints that get deprioritized.

My workaround: Critical decisions get written to a shared .claude/decisions.md file that every team reads.

Cost Accumulation
This system is not cheap. On heavy development days, I‚Äôve hit $40 in API costs. Average is around $12/day with my usage patterns.

My workaround: The /costs command exists because I needed it. I set daily limits and get alerts at 80%.

Skill Drift
Skills that work perfectly today slowly degrade as codebases evolve. The Code Review skill flagged 62% more issues in month 1 than month 6 ‚Äî not because code quality improved, but because it wasn‚Äôt keeping up with new patterns.

My workaround: Monthly skill audits. I set calendar reminders.

The Human Oversight Problem
Here‚Äôs the uncomfortable truth: the more autonomous the system becomes, the less I understand what it‚Äôs doing. Twice, I‚Äôve discovered agents making ‚Äúoptimizations‚Äù that violated business logic they didn‚Äôt understand.

My workaround: No full autonomy on business-critical paths. Ever. The Supervised tier exists for a reason.

What I‚Äôd Do Differently
If I started over:

Start with 3‚Äì5 agents, not 20. I built too much infrastructure before validating the patterns.
Log everything from day one. I lost valuable debugging data in the first two months.
Define success metrics before building. ‚ÄúIs this agent helping?‚Äù is too vague. ‚ÄúDid review time decrease by 30%?‚Äù is actionable.
For patterns on orchestrating teams that avoid these pitfalls, see my guide on multi-agent orchestration. It took 127 failed sessions to figure out what stable coordination actually looks like.

Quick Reference: Claude Code Agents
What are Claude Code agents?

Claude Code agents are autonomous AI assistants that execute development tasks without constant supervision. They combine skills (capabilities), hooks (trigger conditions), and slash commands (interface) to handle everything from code review to documentation generation. Unlike single-use AI prompts, agents maintain context, follow defined workflows, and can hand off work to other specialized agents.

How do I organize multiple Claude Code agents?

Use a team-based structure rather than task-based. Group agents by domain ownership: Engineering teams (Blue, Cyan, Orange, Yellow) own code areas, Support teams (Green, Red, Purple) handle quality and planning, Operational teams (Gray, White, Black) manage docs and incidents. Each team has 2‚Äì3 agents maximum with isolated contexts and explicit handoff rules. This prevents context bleed and coordination overhead.

How many agents should I start with?

Start with 3‚Äì5 agents in a single team before scaling. Most developers fail by building too many agents too fast ‚Äî they create coordination complexity that negates productivity gains. A healthy progression: one team running smoothly for 2‚Äì3 weeks, then add a second. Scale based on measured time savings, not theoretical improvements.

What This System Actually Buys You
After 6 months with 141 agents, 8 skills, and 19 commands:

Time saved: 12‚Äì15 hours per week. Mostly in code reviews (3 hours), documentation (2 hours), and test writing (4 hours). The rest is scattered across debugging, deployment prep, and context switching.

Time invested: Initial setup took 45 hours over three weeks. Ongoing maintenance is 2‚Äì3 hours monthly.

Mistakes prevented: I stopped counting after the dependency audit caught its 50th security vulnerability before it hit production.

New problems created: Cost management, skill maintenance, and the constant temptation to automate things that shouldn‚Äôt be automated.

Is it worth it? For my workflow ‚Äî a CTO managing technical work across a 7-person direct team ‚Äî yes. For a solo developer on small projects, probably overkill. For a team that ships 30+ PRs weekly, essential.

The full configuration lives in claude-code-tresor. Clone it, start with the Blue Team setup, and scale from there.

I‚Äôm still iterating on this system. Some days I think I‚Äôve got it figured out. Other days, I discover another edge case that requires rethinking the architecture. If you build something similar, I‚Äôd genuinely like to know what breaks for you.

My Dedicated Claude Code Skills ‚Äî A Claude Code Plugin and Claude AI Packages for all teams:

GitHub - alirezarezvani/claude-skills: A Collection of Skills for Claude Code and Claude AI for‚Ä¶
A Collection of Skills for Claude Code and Claude AI for real-world Usage. Including Claude Code Subagents, Claude Code‚Ä¶
github.com

‚ú® Thanks for reading! If practical insights on AI development tools are useful to you, hit subscribe for more production-tested patterns ‚Äî no hype, just what actually works.

About the Author
I‚Äôm Alireza Rezvani (Reza), CTO building AI development systems for engineering teams. I write about turning individual expertise into collective infrastructure through practical automation.

Connect: Website | LinkedIn

Read more on Medium: 
Reza Rezvani

